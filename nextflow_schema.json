{
  "version": "0.0.1",
  "title": "NF-PIPELINES",
  "description": [
    "This repository houses a collection of workflows I have developed over the",
    "course of my PhD. They are typically related to analyses that I needed to carry",
    "out at some point or another. Feel free to try them out, adapt them or even use",
    "them as a guide for your own custom pipelines."
  ],
  "definitions": {
    "mandatory": {
      "title": "Mandatory Arguments",
      "description": "These options MUST be provided to run the pipeline:",
      "arguments": {
        "outdir": {
          "type": "string",
          "format": "directory-path",
          "description": "Path to the output directory where the results will be saved.",
          "optional": false
        },
        "email": {
          "type": "string",
          "description": "Email address to send completion report.",
          "optional": false
        },
        "pipeline": {
          "type": "string",
          "description": "Specification of which sub-workflow to run.",
          "valid": ["msa", "hyphy", "codeml", "transcurate", "assembly"],
          "optional": false
        },
        "partition": {
          "type": "string",
          "description": "Which HPC partition to use",
          "valid": ["skylake", "skylakehm", "test"],
          "optional": true
        }
      }
    },
    "nf_arguments": {
      "title": "Nextflow Arguments",
      "description": [
        "These are recommended Nextflow-specific arguments relating to the", 
        "execution of Nextflow itself. Notice the use of single hyphens when",
        "calling these arguments!"
      ],
      "arguments": {
        "profile": {
          "type": "string",
          "description": "Which pipeline profiles to use to execute the pipeline.",
          "valid": ["standard", "slurm", "conda"],
          "optional": false
        },
        "resume": {
          "type": "boolean",
          "description": "Should the workflow be resumed.",
          "optional": true
        },
        "work-dir": {
          "type": "string",
          "description": "Working directory name.",
          "optional": false
        },
        "with-notification": {
          "type": "string",
          "description": "Email to send a workflow execution email to - success/failure notification.",
          "optional": true
        }
      }
    },
    "cluster": {
      "title": "Cluster Arguments",
      "description": "Arguments for running jobs on HPC clusters:",
      "arguments": {
        "partition": {
          "type": "string",
          "description": "Which job-queue to submit to submit jobs to.",
          "valid": ["skylake", "skylakehm", "test"],
          "optional": true
        },
        "max_memory": {
          "type": "memoryUnit",
          "description": "Maximum amount of memory that can be requested. DO NOT TOUCH.",
          "optional": true
        },
        "max_cpus": {
          "type": "integer",
          "description": "Maximum number of CPUs that can be requested. DO NOT TOUCH.",
          "optional": true
        },
        "max_time": {
          "type": "duration",
          "description": "Maximum amount of time that can be requested. DO NOT TOUCH.",
          "optional": true
        }
      }
    },
    "msa": {
      "title": "MSA pipeline options",
      "description": "MSA pipeline specific arguments:",
      "arguments": {
        "input": {
          "type": "string",
          "format": "directory-path",
          "pattern": ".*f(ast|n|a)?a(.(gz|bgzf))?$",
          "nfiles": 1,
          "description": "Directory path to protein multi-FASTA files for alignment.",
          "optional": false
        },
        "aligner": {
          "type": "string",
          "description": "Which multiple sequence aligner to use.",
          "valid": ["mafft", "muscle", "clustal", "tcoffee"],
          "optional": false
        },
        "aligner_args": {
          "type": "string",
          "description": "Additional arguments to provide the MSA software. It is on the user to ensure these are correct.",
          "optional": "true"
        },
        "nucleotide": {
          "type": "string",
          "format": "directory-path",
          "pattern": ".*f(ast|n|a)?a(.(gz|bgzf))?$",
          "nfiles": 1,
          "description": "Directory path to complementary nucleotide multi-FASTA files.",
          "optional": true
        },
        "clean_alignments": {
          "type": "boolean",
          "format": "flag",
          "description": "Set this flag to clean MSA files using GBlocks.",
          "optional": true
        },
        "gblocks_args": {
          "type": "string",
          "description": "Additional arguments to provide to GBlocks. It is on the user to ensure these are correct.",
          "optional": true
        }
      }
    },
    "assembly": {
      "title": "Assembly Pipeline Options",
      "description": "Genome assembly pipeline arguments.",
      "arguments": {
        "input": {
          "type": "string",
          "format": "directory-path",
          "pattern": "*.fastq.gz",
          "nfiles": 1,
          "description": "Directory path containing the HiFi Fastq file/s.",
          "optional": false
        },
        "assembler": {
          "type": "string",
          "description": "Which genome assembly tool to use.",
          "valid": [ "hifiasm", "flye" ],
          "optional": false
        },
        "hic": {
          "type": "string",
          "format": "directory-path",
          "pattern": "*_R{1,2}.fastq.gz",
          "nfiles": 2,
          "description": "Directory path containing the Hi-C Fastq files.",
          "optional": true
        },
        "busco_db": {
          "type": "string",
          "description": "BUSCO database to use.",
          "optional": true
        }
      }
    }
  }
}
